---
title: "p8105_hw2"
output: github_document
---

```{r, setup}
library(tidyverse)
library(janitor)
```

## Problem 1

Load the data

```{r}
pols_data = 
  read_csv("./fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(month = recode(month, `01` = "january", `02` = "february", `03` = "march", `04` = "april", `05` = "may", `06` = "june", `07` = "july", `08` = "august", `09` = "september", `10` = "october", `11` = "november", `12` = "december")) %>% 
  pivot_longer(
    cols = c(prez_gop, prez_dem),
    names_to = "president",
    values_to = "prez_words") %>%  
  select(-day) %>% 
  pivot_longer(
    cols = c(gov_gop, gov_dem),
    names_to = "governor",
    values_to = "gov_words") %>% 
  pivot_longer(
    cols = c(sen_gop, sen_dem),
    names_to = "senator",
    values_to = "sen_words") %>% 
  pivot_longer(
    cols = c(rep_gop, rep_dem),
    names_to = "representative",
    values_to = "rep_words"
  )
```

```{r}
unemployment_data =
  read_csv("./fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month")
```

```{r}
snp_data = 
  read_csv("./fivethirtyeight_datasets/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("year", "month", "day")) %>% 
  mutate(month = recode(month, `1` = "january", `2` = "february", `3` = "march", `4` = "april", `5` = "may", `6` = "june", `7` = "july", `8` = "august", `9` = "september", `10` = "october", `11` = "november", `12` = "december")) %>% 
  select(-day) %>% 
  mutate(year = str_pad(year, width = 2, pad = "0")) %>% 
  mutate(year = paste0("20", year))
```

```{r}
p_and_s_data = 
    inner_join(pols_data, snp_data, by = c("year", "month"))
```

```{r}
pus_data = 
  full_join(
    (pols_data %>% 
       mutate(year = as.integer(year))),
    (snp_data %>% 
      mutate(year = as.integer(year))),
    (unemployment_data %>% 
       mutate(year = as.integer(year))), 
    by = c("year", "month"))
```

